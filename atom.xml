<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://sunlongfei-ai.github.io</id>
    <title>ä¸€åªå°å¼ºå¼º</title>
    <updated>2020-03-04T11:51:59.077Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://sunlongfei-ai.github.io"/>
    <link rel="self" href="https://sunlongfei-ai.github.io/atom.xml"/>
    <subtitle>ä¸“æ³¨äºå„ä¸ªå¥¥åˆ©ç»™</subtitle>
    <logo>https://sunlongfei-ai.github.io/images/avatar.png</logo>
    <icon>https://sunlongfei-ai.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, ä¸€åªå°å¼ºå¼º</rights>
    <entry>
        <title type="html"><![CDATA[ä¸€ä¸ªç¿»è¯‘å°ä»¶]]></title>
        <id>https://sunlongfei-ai.github.io/post/yi-ge-fan-yi-xiao-jian/</id>
        <link href="https://sunlongfei-ai.github.io/post/yi-ge-fan-yi-xiao-jian/">
        </link>
        <updated>2020-03-04T10:35:45.000Z</updated>
        <content type="html"><![CDATA[<p>å†™åœ¨å¼€å§‹çš„è¯ğŸ¤</p>
<p>è¿™ç¯‡pythonå†™çš„è¯·æ±‚ä¸»è¦æ˜¯å¯¹ç°æœ‰çš„æˆ–è€…è¯´å¯¹ç½‘ä¸Šå·²ç»å®ç°çš„api<br>
è°ƒç”¨ï¼Œæˆ–è€…è¯´è¯·æ±‚ã€‚<br>
ç”¨åˆ°çš„åº“ä¹Ÿæ¯”è¾ƒç®€å•ä¸»è¦æ˜¯requestsåº“ï¼Œï¼Œ<br>
èšç„¦çˆ¬è™«è€Œå·²å•¦ï¼Œå°Šé‡robotsè¯·æ±‚å°±çœ‹ä¸ªäººçš„æ„å¿—å•¦ï¼<br>
<img src="https://sunlongfei-ai.github.io/post-images/1583320050894.png" alt="" loading="lazy"></p>
<p>æœ¬ç¯‡ä¸»è¦æ˜¯ï¼š<br>
requests  tkinter fake_useragent<br>
ä¸€ä¸ªè¯·æ±‚åº“ ä¸€ä¸ªGUIåº“ å¦ä¸€ä¸ªå°±å½“æ˜¯ä¸€ä¸ªååçˆ¬åº“<br>
<img src="https://sunlongfei-ai.github.io/post-images/1583321411610.png" alt="" loading="lazy"></p>
<p>ä»¥ä¸‹æ­£æ–‡ï¼š<br>
<img src="https://sunlongfei-ai.github.io/post-images/1583321433370.png" alt="" loading="lazy"></p>
<p>ç½‘å€ï¼š<br>
http://fanyi.youdao.com/<br>
å…ˆå¸–å‡ºè¯·æ±‚ç½‘å€æˆ–è€…è¯´api<br>
url = 'http://fanyi.youdao.com/translate?smartresult=dictsmartresult=rule'<br>
ä»¥ä¸Šç½‘å€å¯è‡ªä¸»è¯·æ±‚</p>
<p>ä¸è¿‡ä»¥ä¸Šç½‘å€æ˜¯postè¯·æ±‚</p>
<p>åŸæ¥çš„ç½‘å€åˆå…ä¸äº†jsç ´è§£<br>
ä»¥å¤§å®¶ï¼Œé¢ä¸ï¼Œä»¥æˆ‘æ¯”è¾ƒæ‡’æƒ°çš„æ€§æ ¼è¿™ç§åƒåŠ›ä¸è®¨å¥½çš„äº‹æƒ…å°±ç®—äº†<br>
ä»€ä¹ˆjsåŠ å¯†ï¼Œæœ‰åŸæ¥ç½‘å€apiæ¥å£å¹²å˜›ä¸ç”¨<br>
<img src="https://sunlongfei-ai.github.io/post-images/1583321840908.png" alt="" loading="lazy"></p>
<p>é‚£å’±å°±å…ˆå°†dataå‚æ•°åˆ—ä¸¾ä¸€ä¸‹å§ï¼š<br>
data = {<br>
'i': content,<br>
'from': 'AUTO',<br>
'to': 'AUTO',<br>
'smartresult': 'dict',<br>
'client': 'fanyideskweb',</p>
<pre><code># 'salt': '15827948097626',
# 'sign': 'b9989465680493e466593f9539e05796',
# 'ts': '1582794809762',
# 'bv': '767d6b27f6caf88200654eb2a7b6e2eb',

'doctype': 'json',
'version': '2.1',
'keyfrom': 'fanyi.web',
'action': 'FY_BY_REALTlME'
}

    ä»¥ä¸Šå³ä¸ºè¯·æ±‚å‚æ•°
</code></pre>
<p>é‚£ä¹ˆç¿»è¯‘å‚æ•°æ€ä¹ˆä¼ å‘¢ï¼Ÿ<br>
#è·å–è¾“å…¥çš„å†…å®¹<br>
content = entry.get()<br>
#å»ç©ºæ ¼ splitæ˜¯åˆ‡å‰²<br>
content = content.strip()</p>
<pre><code>#å…ˆè§£é‡Šä¸€ä¸‹entryå§ å°±æ˜¯ä¸€ä¸ªåˆ—è¡¨æ¡†
ä»é‡Œé¢è·å–æ–‡å­—ï¼Œæ¯•ç«Ÿæ˜¯ç”¨æˆ·è¾“å…¥ï¼Œäº¤äº’å¼ç•Œé¢å˜›

req['translateResult'][0][0]['tgt']
ä»¥ä¸Šç”¨æ¥è·å–ç½‘é¡µè¿”å›çš„ç¿»è¯‘å‚æ•°
</code></pre>
<p>å¥½äº†ï¼Œè¯·æ±‚ç½‘é¡µå‚æ•°çš„ä»£ç å°±è¿™æ ·äº†ï¼Œå¥½åƒæ˜¯æ¯”è¾ƒç®€å•çš„å˜›</p>
<p>ä»€ä¹ˆjsåŠ å¯†ï¼Œè¿˜æ²¡apiæ¥å£æ¥çš„å¿«å˜›ï¼</p>
<p>æ¥ä¸‹æ¥å°±è°ˆè°ˆtkinterç•Œé¢é—®é¢˜å§</p>
<pre><code># åˆ›å»ºçª—å£
window = Tk()
#çª—å£å¤§å°
window.geometry('820x600')
#çª—å£æ ‡é¢˜
window.title('æˆ‘çš„ç¿»è¯‘è½¯ä»¶')
#æ§ä»¶
label = Label(window,text = 'è¾“å…¥è¦ç¿»è¯‘çš„æ–‡å­—ï¼š',font=('å¹¼åœ†',20),fg = 'LightSeaGreen')
#ä½ç½® ç½‘æ ¼å¼çš„å¸ƒå±€  grid  pack åŒ…  placeä½ç½®
label.place(x=0, y=0)

label1 = Label(window,text = 'ç¿»è¯‘åçš„ç»“æœä¸ºï¼š',font=('å¹¼åœ†',20),fg = 'LightSeaGreen')
#ä½ç½® ç½‘æ ¼å¼çš„å¸ƒå±€  grid  pack åŒ…  placeä½ç½®
label1.place(x=0, y=250)
#è¾“å…¥æ¡†
entry = Entry(window,font = ('å¹¼åœ†',15))
#ä¿®æ”¹ä½ç½® rowä¸ºè¡Œ columnä¸ºåˆ—
entry.place(x=20,y = 45,heigh = 200,width=770)
# entry.place(width=600, height=350)


#è¾“å‡ºæ¡†
res = StringVar()
entry1 = Entry(window,font = ('å¹¼åœ†',15),textvariable = res,width=600)
#ä¿®æ”¹ä½ç½® rowä¸ºè¡Œ columnä¸ºåˆ—
entry1.place(x=20,y = 300,heigh = 200,width=770)
# entry1.place(width=150, height=50)


#æŒ‰é’®
button = Button(window,text = 'ç¿»è¯‘',font=('å¹¼åœ†',12),width = 25,height = 2,fg = 'DimGray',command = translation)
button.place(x=0, y=600,anchor='sw')
button1 = Button(window,text = 'é€€å‡º',font=('å¹¼åœ†',12),width = 25,height = 2,fg = 'DimGray',command = window.quit)
button1.place(x=820, y=600,anchor='se')
#æ˜¾ç¤ºçª—å£
window.mainloop()
</code></pre>
<p>å…·ä½“è§£é‡Šå°±çœ‹æ³¨é‡Šå•¦ï¼</p>
<p>æœ€æœ€åè´´ä¸€ä¸‹å®Œæ•´ä»£ç å§ï¼ï¼ï¼ï¼<br>
<img src="https://sunlongfei-ai.github.io/post-images/1583322388921.png" alt="" loading="lazy"></p>
<pre><code>#-*- coding: utf-8 -*-

from tkinter import *
from tkinter import messagebox
import requests
def translation():
    &quot;&quot;&quot;
    ç¿»è¯‘
    :return:
    &quot;&quot;&quot;
    #è·å–è¾“å…¥çš„å†…å®¹
    content = entry.get()
    #å»ç©ºæ ¼ splitæ˜¯åˆ‡å‰²
    content = content.strip()
    if content == '':
        messagebox.showinfo('æç¤º',message = 'è¯·è¾“å…¥è¦ç¿»è¯‘çš„å†…å®¹')
    else:
        url = 'http://fanyi.youdao.com/translate?smartresult=dict&amp;smartresult=rule'
        data = {
            'i': content,
            'from': 'AUTO',
            'to': 'AUTO',
            'smartresult': 'dict',
            'client': 'fanyideskweb',

            # 'salt': '15827948097626',
            # 'sign': 'b9989465680493e466593f9539e05796',
            # 'ts': '1582794809762',
            # 'bv': '767d6b27f6caf88200654eb2a7b6e2eb',

            'doctype': 'json',
            'version': '2.1',
            'keyfrom': 'fanyi.web',
            'action': 'FY_BY_REALTlME'
        }
        req = requests.post(url,data = data).json()
        tran = req['translateResult'][0][0]['tgt']
        # print(tran)
        res.set(tran)
        return tran


# åˆ›å»ºçª—å£
window = Tk()
#çª—å£å¤§å°
window.geometry('820x600')
#çª—å£æ ‡é¢˜
window.title('æˆ‘çš„ç¿»è¯‘è½¯ä»¶')
#æ§ä»¶
label = Label(window,text = 'è¾“å…¥è¦ç¿»è¯‘çš„æ–‡å­—ï¼š',font=('å¹¼åœ†',20),fg = 'LightSeaGreen')
#ä½ç½® ç½‘æ ¼å¼çš„å¸ƒå±€  grid  pack åŒ…  placeä½ç½®
label.place(x=0, y=0)

label1 = Label(window,text = 'ç¿»è¯‘åçš„ç»“æœä¸ºï¼š',font=('å¹¼åœ†',20),fg = 'LightSeaGreen')
#ä½ç½® ç½‘æ ¼å¼çš„å¸ƒå±€  grid  pack åŒ…  placeä½ç½®
label1.place(x=0, y=250)
#è¾“å…¥æ¡†
entry = Entry(window,font = ('å¹¼åœ†',15))
#ä¿®æ”¹ä½ç½® rowä¸ºè¡Œ columnä¸ºåˆ—
entry.place(x=20,y = 45,heigh = 200,width=770)
# entry.place(width=600, height=350)


#è¾“å‡ºæ¡†
res = StringVar()
entry1 = Entry(window,font = ('å¹¼åœ†',15),textvariable = res,width=600)
#ä¿®æ”¹ä½ç½® rowä¸ºè¡Œ columnä¸ºåˆ—
entry1.place(x=20,y = 300,heigh = 200,width=770)
# entry1.place(width=150, height=50)


#æŒ‰é’®
button = Button(window,text = 'ç¿»è¯‘',font=('å¹¼åœ†',12),width = 25,height = 2,fg = 'DimGray',command = translation)
button.place(x=0, y=600,anchor='sw')
button1 = Button(window,text = 'é€€å‡º',font=('å¹¼åœ†',12),width = 25,height = 2,fg = 'DimGray',command = window.quit)
button1.place(x=820, y=600,anchor='se')
#æ˜¾ç¤ºçª—å£
window.mainloop()
</code></pre>
<p>æ˜¯æ¯”è¾ƒç®€å•çš„å•Šï¼Œå°±æ˜¯ç•Œé¢ä¸å¤ªæ“…é•¿è¯¶ï¼ï¼ï¼ï¼</p>
]]></content>
    </entry>
</feed>